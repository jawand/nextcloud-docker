# Nextcloud PHP Server Optimizations for 4GB RAM Server
memory_limit = 2048M
upload_max_filesize = 10G
post_max_size = 10G
max_execution_time = 7200
max_input_time = 7200
max_file_uploads = 100

# OPcache settings optimized for 4GB RAM server
opcache.enable = 1
opcache.enable_cli = 1
opcache.memory_consumption = 512
opcache.interned_strings_buffer = 64
opcache.max_accelerated_files = 16000
opcache.revalidate_freq = 60
opcache.save_comments = 1

# Additional optimizations for 4GB RAM server
realpath_cache_size = 32M
realpath_cache_ttl = 600

# Performance improvements for 4GB server setup
max_input_vars = 5000
output_buffering = 8192

# Large file upload optimizations
client_max_body_size = 10G
fastcgi_read_timeout = 3600
fastcgi_send_timeout = 3600
fastcgi_connect_timeout = 3600

# Additional PHP settings for large uploads
default_socket_timeout = 7200